\chapter{Research Design and Implementation}
\label{ch:research_design_and_implementation}
This chapter will discuss the motivation, design and implementation of the SLR.
The chapter is structured as follows.
In \cref{sec:research_motivation} the impact and usefulness of the study is argued.
\cref{sec:research_questions} presents the research questions of the study.
\cref{sec:research_method} outlines the research method and design of the study.
Finally, \cref{sec:research_implementation} accounts for how the study was conducted.

\section{Research Motivation}
\label{sec:research_motivation}
As outlined in \cref{ch:background}, industry adoption of ML is still in its early stages and rapidly growing.
The SE aspect of ML is an active field of research, with the vast majority of work having been done only in the past five years.
As reported by earlier literature studies in the field (see \cref{ch:related_work}), deployment of ML is an area which presents real challenges to practitioners.
Tackling deployment challenges requires adopting good practices as well as utilizing suitable tooling.
Much of the earlier work has largely had a broad scope, with goals of mapping out broad SE challenges and practices for ML.
Further, earlier work has had a focus on reviewing the academic literature, ignoring the vast body of practitioner knowledge found in the GL.
To summarize, this study is motivated by three factors.
\begin{itemize}
    \item Researching ML deployment specifically, and not as part of a broader study of SE for ML.
    \item Including more practitioner knowledge in the form of GL.
    \item Putting more focus on tooling by identifying what needs are fulfilled by current tooling and what is missing from tooling.
\end{itemize}

\section{Research Questions}
\label{sec:research_questions}
The overarching research question of this study is "\textbf{What is the state of the art and state of the practice in ML deployment?}".
The focus will be on tooling and trying to identify feature gaps reported in studies where model deployment is discussed.
To support the main research question, four subquestions have been formulated:
\begin{itemize}
    \item \textbf{RQ1: How is ML model deployment handled in real-world applications?}
    \item \textbf{RQ2: What are the main challenges and pain points in ML model deployment?}
    \item \textbf{RQ3: What tools are used to deploy ML models?}
    \item \textbf{RQ4: Are there any feature gaps in the tooling used to deploy ML models?}
\end{itemize}

\section{Research Method and Design}
\label{sec:research_method}
This study is a multivocal literature review (MLR) based on the guidelines of \textcite{Kitchenham07guidelinesfor} and \textcite{Garousi2019}.

\subsection{Search Strategy}
\subsubsection{White Literature}
Initial string-based searches in digital libraries failed to produce adequately relevant articles for the topic at hand, thus motivating the use of snowballing as an alternative approach for identifying candidate papers.
The snowballing procedure followed the process proposed by \textcite{Wohlin2014}, with the exception that forward and backward snowballing were limited to a single iteration each.

\subsubsection{Grey Literature}
Pilot searches using Google revealed that adequately relevant and recent results were found using the search string "mlops deployment".
Based on the outlined GL search guidelines in \cite{Garousi2016}, the Top N-approach was selected with the search string "mlops deployment" and $N=100$.

\subsection{Study Selection}
I will perform selection, while my supervisor Jingyue Li will review my selection.
Studies will be selected based on the criteria found in \cref{tab:selection_criteria}, according to the type of literature (\acrshort{wl}/\acrshort{gl}).
\begin{table}[h]
    \centering
    \begin{tabular}{l|p{0.4\linewidth}|p{0.4\linewidth}}
         Literature type & \acrshort{wl} & \acrshort{gl}  \\
         \hline
        Inclusion criteria & \begin{itemize}
    \item Written in English
    \item Published in a peer-reviewed journal, conference or workshop
    \item Published after 2010
    \item Discusses one of the following aspects of machine learning deployment: challenges, solutions, tooling, processes, requirements
    \item Available online
\end{itemize} & \begin{itemize}
    \item Written in English
    \item Published after 2010
    \item Discusses one of the following aspects of machine learning deployment: challenges, solutions, tooling, processes, requirements
    \item Available online
\end{itemize} \\
         Exclusion criteria & \begin{itemize}
             \item One of the inclusion criteria is not satisfied
         \end{itemize}  & \begin{itemize}
             \item One of the inclusion criteria is not satisfied
         \end{itemize} \\
    \end{tabular}
    \caption{Selection criteria for \acrfull{wl} and \acrfull{gl}.}
    \label{tab:selection_criteria}
\end{table}

\subsection{Study Quality Assessment}
The quality of both \acrshort{wl} and \acrshort{gl} sources will be assessed using the criteria found in \cref{tab:study_quality_criteria}, adapted from criteria used by \cite{Giray2021} and suggested by \cite{Garousi2016}.
\begin{table}[h]
    \centering
    \begin{tabular}{l c c}
        Criteria & Empirical & Non-empirical \\
        \hline
        Does the author have authority on the subject? & X & X \\
        Does the source have a clearly stated aim? & X & X \\
        Is the author free of any vested interests? & X & X \\
        Have key related GL or WL sources been linked to/discussed? & X & X \\
        Is relevance (to industry or academia) discussed? & X & X \\
        Does the source have a stated methodology? & X &  \\
        Are any threats to validity clearly stated? & X & \\
    \end{tabular}
    \caption{Study quality assessment criteria for empirical and non-empirical sources, indicated by \emph{X}.}
    \label{tab:study_quality_criteria}
\end{table}
Each sub-point is awarded 1 for \emph{yes}, 0.5 for \emph{partly} and 0 for \emph{no}.
Sources with an average of less than 0.5 points are excluded.

\subsection{Data Extraction}
In order to answer the research questions, sufficient data must be gathered from the literature.
Thus, the following data extraction form was designed:

\begin{itemize}
    \item Source type (\acrshort{wl}/\acrshort{gl})
    \item Publication date
    \item Context
    \item Achievement
    \begin{itemize}
        \item What is the main achievement?
    \end{itemize}
    \item Process
    \begin{itemize}
        \item What was the deployment process?
    \end{itemize}
    \item Tools
    \begin{itemize}
        \item What tools were used for deployment?
        \item What tooling features were used for deployment?
    \end{itemize}
    \item Challenges
    \begin{itemize}
        \item Is any deployment challenge reported?
        \item What was the challenge?
    \end{itemize}
    \item Solutions
    \begin{itemize}
        \item What challenge is addressed?
        \item What is the solution?
        \item Is the solution merely theoretical (proposed), or do the authors implement it?
        \item If the solution was implemented, what was the outcome?
    \end{itemize}
    \item Requirements
    \begin{itemize}
        \item What functional requirements do the authors state for deployment tooling?
        \item What non-functional requirements do the authors state for deployment tooling?
        \item What is the reasoning for the stated requirements?
    \end{itemize}
    \item Gaps
    \begin{itemize}
        \item Is any shortcoming in deployment tooling either implicitly or excplicitly reported?
        \item What are the shortcomings?
        \item How was the shortcoming inferred from the literature (by me)?
    \end{itemize}
    \item Any other notes
\end{itemize}

\subsection{Data Synthesis}
The data extraction form is designed to extract the information required to answer the research question.
As most papers will likely not address all research questions that this review is concerned with, the the qualitative approach of \textit{line of argument} synthesis will be used to synthesize the data, as suggested in \cite{Kitchenham07guidelinesfor}.

\section{Research Implementation}
\label{sec:research_implementation}

\subsection{Search}
\subsubsection{White Literature}
In order to start the WL snowballing, an initial set of studies was assembled from manual search, as well as looking at the reference lists of earlier work, such as \cite{John2021} and \cite{MartinezFernandez2021}.
The start set can be found in table [table].
The WL study selection criteria found in \cref{tab:selection_criteria} were applied to the start set, resulting in [table].
From the start set of 19 papers, 16 were selected for review and further snowballing.

Paragraph about backward snowballing iteration.

Paragraph about forward snowballing iteration.

Conclude WL search.

\subsubsection{Grey Literature}

\subsection{Data Extraction}
Write something about data extraction

\subsection{Data Synthesis}
How did I synthesize the data?
